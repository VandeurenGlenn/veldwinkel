import{S as e,m as t}from"./select-mixin-bf4ecf3c.js";const r=[" ","\n","\r","\t","\f","\v"," "," ","᠎"," "," "," "," "," "," "," "," "," "," "," ","\u2028","\u2029"," "," ","　"];var s=(e,t)=>((e,t)=>{t=t||r;let s,i,c=0,l=e.length,n=t.length,a=!0;for(;a&&c<l;)for(a=!1,s=-1,i=e.charAt(c);++s<n;)if(i===t[s]){a=!0,c++;break}return c>=l?"":e.substr(c,l)})(((e,t)=>{t=t||r;for(var s,i,c=e.length-1,l=t.length,n=!0;n&&c>=0;)for(n=!1,s=-1,i=e.charAt(c);++s<l;)if(i===t[s]){n=!0,c--;break}return c>=0?e.substring(0,c+1):""})(e,t=t||r),t),i=e=>((e,t)=>(null==t&&(t="-"),e=(e=>e.replace(/[^0-9a-zA-Z\xC0-\xFF \-]/g,""))(e=(e=>(e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e))(e)),e=s(e).replace(/ +/g,t).toLowerCase()))(e=(e=>e=(e=e.replace(/([a-z\xE0-\xFF])([A-Z\xC0\xDF])/g,"$1 $2")).toLowerCase())(e),"-");var c=e=>{const t=i(e.name);return(e=>!customElements.get(e))(t)?customElements.define(t,e):""};window.html=window.html||((e,...t)=>(...r)=>({strings:e,keys:t,values:r}));var l=(e=HTMLElement)=>(class RenderMixin extends e{constructor(){super(),this.set=[],this.renderer=this.renderer.bind(this),this.render=this.renderer}beforeRender({values:e,strings:t,keys:r}){const s=e[e.length-1]||{},i={};let c=null;return this.rendered||(c=t[0]),void 0!==e[0]?r.forEach((r,l)=>{const n=t[l+1];let a=Number.isInteger(r)?e[r]:s[r];void 0===a&&Array.isArray(r)?a=r.join(""):void 0===a&&!Array.isArray(r)&&this.set[l]?a=this.set[l].value:void 0!==a||Array.isArray(r)||this.set[l]||(a=""),this.rendered||(c=c.replace(/(>)[^>]*$/g,` render-mixin-id="${r}">`),c+=`${a}${n}`),this.set[r]&&this.set[r]!==a?(i[r]=a,this.set[r]=a):this.set[r]||(this.set[r]=a,i[r]=a)}):c+=t[0],{template:c,changes:i}}renderer(e=this.properties,t=this.template){if(e){if(!this.isFlat(e)){const t={};for(const r of Object.keys(e)){let s;s=void 0!==this[r]?this[r]:e[r]&&void 0!==e[r].value?e[r].value:"",t[r]=s}e=t}}else e={};((e,{changes:t,template:r})=>{if(!t&&!r)return console.warn("changes or template expected");e.shadowRoot&&(e=e.shadowRoot),e.innerHTML||(e.innerHTML=r);for(const r of Object.keys(t)){const s=Array.from(e.querySelectorAll(`[render-mixin-id="${r}"]`));for(const e of s)e.innerHTML=t[r]}})(this,this.beforeRender(t(e)))}isFlat(e){const t=e[Object.keys(e)[0]];if(t)return!(t.hasOwnProperty("value")||t.hasOwnProperty("reflect")||t.hasOwnProperty("observer")||t.hasOwnProperty("render"))}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.render&&(this.render(),this.rendered=!0)}}),n=r=>(class SelectorMixin extends(e(r)){static get properties(){return t(super.properties,{selected:{value:0,observer:"__selectedObserver__"},multi:{value:!1,reflect:!0}})}constructor(){super()}connectedCallback(){super.connectedCallback(),this._onClick=this._onClick.bind(this),this.addEventListener("click",this._onClick)}disconnectedCallback(){this.removeEventListener("click",this._onClick)}_onClick(e){const t=e.path?e.path[0]:e.composedPath()[0],r=t.getAttribute(this.attrForSelected);let s;if(s=t.localName!==this.localName?r||t:r,this.multi){Array.isArray(this.selected)||(this.selected=[]);const e=this.selected.indexOf(s);-1===e?this.selected.push(s):this.selected.splice(e,1),this.select(this.selected)}else this.selected=s;this.dispatchEvent(new CustomEvent("selected",{detail:s}))}});export{n as C,l as R,c as d};
